{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/waleed/iwork/jobs/upwork/Matthew/gethired-company/src/components/Global/NotificationDropdown.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useRouter } from 'next/router';\nimport { connect } from 'react-redux';\nimport Link from 'next/link';\nimport cn from 'classnames';\n\nvar NotificationDropdown = function NotificationDropdown(_ref) {\n  _s();\n\n  var notifications = _ref.notifications,\n      firstName = _ref.firstName,\n      lastName = _ref.lastName;\n\n  var _useState = useState(false),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var _useState2 = useState(false),\n      bellActive = _useState2[0],\n      setBellActive = _useState2[1];\n\n  var _useState3 = useState(false),\n      bellMobActive = _useState3[0],\n      setBellMobActive = _useState3[1];\n\n  var router = useRouter();\n  var node = useRef(null);\n\n  var handleClick = function handleClick(e) {\n    if (node.current.contains(e.target)) {\n      return;\n    }\n\n    setIsOpen(false);\n    setBellActive(false);\n    setBellMobActive(false);\n  };\n\n  useEffect(function () {\n    if (router.pathname.includes('/notifications')) {\n      setBellActive(true);\n    } else {\n      setBellActive(false);\n    }\n\n    document.addEventListener(\"mousedown\", handleClick);\n    return function () {\n      document.removeEventListener(\"mousedown\", handleClick);\n    };\n  }, []);\n\n  var showOverlay = function showOverlay() {\n    if (isOpen) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed bg-black left-0 right-0 bottom-0 top-0 opacity-20\",\n        style: {\n          marginTop: '73px',\n          zIndex: 99999999999999\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, _this);\n    } else {\n      return;\n    }\n  };\n\n  var activeBellMob = function activeBellMob() {\n    setIsOpen(isOpen = !isOpen);\n    isOpen ? setBellMobActive(true) : setBellMobActive(false);\n  };\n\n  var renderNotifications = notifications.map(function (notification, index) {\n    if (index < 3) {\n      return /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex w-full px-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full flex flex-wrap items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-3/4 text-left\",\n              children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-titles\",\n                children: notification.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 33\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-1/4 text-right\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"bg-transparent outline-none focus:outline-none text-primary text-sm\",\n                children: \"View\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 33\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-sans text-secondary text-xs my-4 text-left\",\n                children: notification.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 33\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-1/2 flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"/img/notifications/clock-icon.svg\",\n                  alt: \"\",\n                  className: \"mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 37\n                }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-secondary text-xs\",\n                  children: notification.deliveredTime\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 37\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 33\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-1/2 text-right\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"bg-transparent outline-none focus:outline-none text-xs text-secondary\",\n                  children: \"Mark as Read\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 37\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 33\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 29\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-px w-full my-6\",\n          style: {\n            background: '#efefef'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, _this)]\n      }, notification.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, _this);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [showOverlay(), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      ref: node,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: cn(\"outline-none focus:outline-none mt-2 z-50\", {\n            \"active-notification pb-5\": bellActive || bellMobActive\n          }),\n          onClick: function onClick() {\n            return activeBellMob();\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/img/icons/bell-icon.svg\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-secondary mx-4 truncate text-sm mt-2 mr-0 z-40\",\n          children: [firstName + ' ' + lastName.charAt(0), \".\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: cn(\"lg:absolute fixed bg-white border-t border-secondary-elements lg:-left-96 left-0 lg:top-14 top-17 flex flex-wrap rounded-b-2xl lg:w-notifications-dropdown w-full lg:-mt-1 lg:overflow-y-hidden overflow-y-scroll lg:h-auto h-full\", {\n          \"hidden\": isOpen === false,\n          \"block\": isOpen === true\n        }),\n        style: {\n          zIndex: 99999999999999\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex w-full items-center pt-6 px-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-1/2 text-left\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-titles text-1xl\",\n              children: \"Notifications\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 25\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-1/2 text-right\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"text-secondary text-xs bg-transparent outline-none focus:outline-none\",\n              children: \"Mark All as Read\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 29\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-px w-full my-6\",\n          style: {\n            background: '#efefef'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, _this), renderNotifications, router.pathname !== '/notifications' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full mb-4 -mt-2 text-center lg:pb-0 md:pb-10 pb-16\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            href: \"/notifications\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bg-transparent outline-none focus:outline-none text-primary text-sm\",\n              children: \"See all Notifications\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 37\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 33\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 31\n        }, _this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"h-10 w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 31\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(NotificationDropdown, \"bNyx5Um9YdP3QIwvjyv5MkIf1m4=\", false, function () {\n  return [useRouter];\n});\n\n_c = NotificationDropdown;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    notifications: state.main.notifications,\n    firstName: state.main.profileInfo.firstName,\n    lastName: state.main.profileInfo.lastName\n  };\n};\n\nexport default connect(mapStateToProps)(NotificationDropdown);\n\nvar _c;\n\n$RefreshReg$(_c, \"NotificationDropdown\");","map":{"version":3,"sources":["/Users/waleed/iwork/jobs/upwork/Matthew/gethired-company/src/components/Global/NotificationDropdown.tsx"],"names":["React","useState","useEffect","useRef","useRouter","connect","Link","cn","NotificationDropdown","notifications","firstName","lastName","isOpen","setIsOpen","bellActive","setBellActive","bellMobActive","setBellMobActive","router","node","handleClick","e","current","contains","target","pathname","includes","document","addEventListener","removeEventListener","showOverlay","marginTop","zIndex","activeBellMob","renderNotifications","map","notification","index","title","text","deliveredTime","background","id","charAt","mapStateToProps","state","main","profileInfo"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,EAAP,MAAe,YAAf;;AAyBA,IAAMC,oBAAqC,GAAG,SAAxCA,oBAAwC,OAA4C;AAAA;;AAAA,MAAzCC,aAAyC,QAAzCA,aAAyC;AAAA,MAA1BC,SAA0B,QAA1BA,SAA0B;AAAA,MAAfC,QAAe,QAAfA,QAAe;;AAAA,kBAC5DV,QAAQ,CAAU,KAAV,CADoD;AAAA,MACjFW,MADiF;AAAA,MACzEC,SADyE;;AAAA,mBAEpDZ,QAAQ,CAAU,KAAV,CAF4C;AAAA,MAEjFa,UAFiF;AAAA,MAErEC,aAFqE;;AAAA,mBAG9Cd,QAAQ,CAAU,KAAV,CAHsC;AAAA,MAGjFe,aAHiF;AAAA,MAGlEC,gBAHkE;;AAKtF,MAAMC,MAAM,GAAGd,SAAS,EAAxB;AAEA,MAAMe,IAAI,GAAGhB,MAAM,CAAM,IAAN,CAAnB;;AAEA,MAAMiB,WAAW,GAAG,SAAdA,WAAc,CAACC,CAAD,EAAY;AAC5B,QAAIF,IAAI,CAACG,OAAL,CAAaC,QAAb,CAAsBF,CAAC,CAACG,MAAxB,CAAJ,EAAqC;AACjC;AACH;;AACDX,IAAAA,SAAS,CAAC,KAAD,CAAT;AACAE,IAAAA,aAAa,CAAC,KAAD,CAAb;AACAE,IAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACH,GAPD;;AASAf,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAIgB,MAAM,CAACO,QAAP,CAAgBC,QAAhB,CAAyB,gBAAzB,CAAJ,EAAgD;AAC5CX,MAAAA,aAAa,CAAC,IAAD,CAAb;AACH,KAFD,MAEO;AACHA,MAAAA,aAAa,CAAC,KAAD,CAAb;AACH;;AAEDY,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuCR,WAAvC;AAEA,WAAO,YAAM;AACTO,MAAAA,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,EAA0CT,WAA1C;AACH,KAFD;AAGH,GAZQ,EAYN,EAZM,CAAT;;AAcA,MAAMU,WAAW,GAAG,SAAdA,WAAc,GAAM;AACtB,QAAIlB,MAAJ,EAAY;AACR,0BACI;AACI,QAAA,SAAS,EAAC,yDADd;AAEI,QAAA,KAAK,EAAE;AAAEmB,UAAAA,SAAS,EAAE,MAAb;AAAqBC,UAAAA,MAAM,EAAE;AAA7B;AAFX;AAAA;AAAA;AAAA;AAAA,eADJ;AAMH,KAPD,MAOO;AACH;AACH;AACJ,GAXD;;AAaA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACxBpB,IAAAA,SAAS,CAACD,MAAM,GAAG,CAACA,MAAX,CAAT;AACAA,IAAAA,MAAM,GAAGK,gBAAgB,CAAC,IAAD,CAAnB,GAA4BA,gBAAgB,CAAC,KAAD,CAAlD;AACH,GAHD;;AAKA,MAAMiB,mBAAmB,GAAGzB,aAAa,CAAC0B,GAAd,CAAkB,UAACC,YAAD,EAAeC,KAAf,EAAyB;AACnE,QAAIA,KAAK,GAAG,CAAZ,EAAe;AACX,0BACI,QAAC,KAAD,CAAO,QAAP;AAAA,gCACI;AAAK,UAAA,SAAS,EAAC,kBAAf;AAAA,iCACI;AAAK,YAAA,SAAS,EAAC,oCAAf;AAAA,oCACI;AAAK,cAAA,SAAS,EAAC,iBAAf;AAAA,qCACI;AAAI,gBAAA,SAAS,EAAC,aAAd;AAAA,0BAA6BD,YAAY,CAACE;AAA1C;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,qBADJ,eAII;AAAK,cAAA,SAAS,EAAC,kBAAf;AAAA,qCACI;AAAQ,gBAAA,SAAS,EAAC,qEAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,qBAJJ,eASI;AAAK,cAAA,SAAS,EAAC,QAAf;AAAA,qCACI;AAAG,gBAAA,SAAS,EAAC,iDAAb;AAAA,0BAAgEF,YAAY,CAACG;AAA7E;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,qBATJ,eAYI;AAAK,cAAA,SAAS,EAAC,0BAAf;AAAA,sCACI;AAAK,gBAAA,SAAS,EAAC,yBAAf;AAAA,wCACI;AAAK,kBAAA,GAAG,EAAC,mCAAT;AAA6C,kBAAA,GAAG,EAAC,EAAjD;AAAoD,kBAAA,SAAS,EAAC;AAA9D;AAAA;AAAA;AAAA;AAAA,yBADJ,eAEI;AAAG,kBAAA,SAAS,EAAC,wBAAb;AAAA,4BAAuCH,YAAY,CAACI;AAApD;AAAA;AAAA;AAAA;AAAA,yBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,eAKI;AAAK,gBAAA,SAAS,EAAC,kBAAf;AAAA,uCACI;AAAQ,kBAAA,SAAS,EAAC,uEAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,uBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,qBAZJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,iBADJ,eAyBI;AAAK,UAAA,SAAS,EAAC,kBAAf;AAAkC,UAAA,KAAK,EAAE;AAAEC,YAAAA,UAAU,EAAE;AAAd;AAAzC;AAAA;AAAA;AAAA;AAAA,iBAzBJ;AAAA,SAAqBL,YAAY,CAACM,EAAlC;AAAA;AAAA;AAAA;AAAA,eADJ;AA6BH;AACJ,GAhC2B,CAA5B;AAkCA,sBACI;AAAA,eACKZ,WAAW,EADhB,eAEI;AAAK,MAAA,SAAS,EAAC,UAAf;AAA0B,MAAA,GAAG,EAAEX,IAA/B;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA,gCACI;AACI,UAAA,SAAS,EAAEZ,EAAE,CACT,2CADS,EAET;AACI,wCAA4BO,UAAU,IAAIE;AAD9C,WAFS,CADjB;AAOI,UAAA,OAAO,EAAE;AAAA,mBAAMiB,aAAa,EAAnB;AAAA,WAPb;AAAA,iCASI;AAAK,YAAA,GAAG,EAAC,0BAAT;AAAoC,YAAA,GAAG,EAAC;AAAxC;AAAA;AAAA;AAAA;AAAA;AATJ;AAAA;AAAA;AAAA;AAAA,iBADJ,eAYI;AAAM,UAAA,SAAS,EAAC,qDAAhB;AAAA,qBACKvB,SAAS,GAAG,GAAZ,GAAkBC,QAAQ,CAACgC,MAAT,CAAgB,CAAhB,CADvB;AAAA;AAAA;AAAA;AAAA;AAAA,iBAZJ;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,eAiBI;AAAK,QAAA,SAAS,EAAEpC,EAAE,CACd,oOADc,EAEd;AACI,oBAAUK,MAAM,KAAK,KADzB;AAEI,mBAASA,MAAM,KAAK;AAFxB,SAFc,CAAlB;AAMG,QAAA,KAAK,EAAE;AAAEoB,UAAAA,MAAM,EAAE;AAAV,SANV;AAAA,gCAOI;AAAK,UAAA,SAAS,EAAC,oCAAf;AAAA,kCACI;AAAK,YAAA,SAAS,EAAC,iBAAf;AAAA,mCACI;AAAI,cAAA,SAAS,EAAC,sBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,mBADJ,eAII;AAAK,YAAA,SAAS,EAAC,kBAAf;AAAA,mCACI;AAAQ,cAAA,SAAS,EAAC,uEAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,mBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,iBAPJ,eAeI;AAAK,UAAA,SAAS,EAAC,kBAAf;AAAkC,UAAA,KAAK,EAAE;AAAES,YAAAA,UAAU,EAAE;AAAd;AAAzC;AAAA;AAAA;AAAA;AAAA,iBAfJ,EAgBKP,mBAhBL,EAkBQhB,MAAM,CAACO,QAAP,KAAoB,gBAApB,gBACM;AAAK,UAAA,SAAS,EAAC,sDAAf;AAAA,iCACE,QAAC,IAAD;AAAM,YAAA,IAAI,EAAC,gBAAX;AAAA,mCACI;AAAQ,cAAA,SAAS,EAAC,qEAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,iBADN,gBAQM;AAAK,UAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,iBA1Bd;AAAA;AAAA;AAAA;AAAA;AAAA,eAjBJ;AAAA;AAAA;AAAA;AAAA;AAAA,aAFJ;AAAA,kBADJ;AAoDH,CAxID;;GAAMjB,oB;UAKaJ,S;;;KALbI,oB;;AA0IN,IAAMoC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD;AAAA,SAAyB;AAC7CpC,IAAAA,aAAa,EAAEoC,KAAK,CAACC,IAAN,CAAWrC,aADmB;AAE7CC,IAAAA,SAAS,EAAEmC,KAAK,CAACC,IAAN,CAAWC,WAAX,CAAuBrC,SAFW;AAG7CC,IAAAA,QAAQ,EAAEkC,KAAK,CAACC,IAAN,CAAWC,WAAX,CAAuBpC;AAHY,GAAzB;AAAA,CAAxB;;AAMA,eAAeN,OAAO,CAACuC,eAAD,CAAP,CAAyBpC,oBAAzB,CAAf","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useRouter } from 'next/router';\nimport { connect } from 'react-redux';\nimport Link from 'next/link';\nimport cn from 'classnames';\n\ninterface NotificationStructure {\n    id: number;\n    title: string;\n    deliveredTime: string;\n    text: string;\n}\n\ninterface CPFromRedux {\n    main: {\n        notifications: [NotificationStructure],\n        profileInfo: {\n            firstName: string;\n            lastName: string;\n        }\n    }\n}\n\ntype Props = {\n    notifications: [NotificationStructure],\n    firstName: string;\n    lastName: string;\n}\n\nconst NotificationDropdown: React.FC<Props> = ({ notifications, firstName, lastName }) => {\n    let [isOpen, setIsOpen] = useState<boolean>(false);\n    let [bellActive, setBellActive] = useState<boolean>(false);\n    let [bellMobActive, setBellMobActive] = useState<boolean>(false);\n\n    const router = useRouter();\n\n    const node = useRef<any>(null)\n\n    const handleClick = (e: any) => {\n        if (node.current.contains(e.target)) {\n            return;\n        }\n        setIsOpen(false);\n        setBellActive(false);\n        setBellMobActive(false);\n    };\n\n    useEffect(() => {\n        if (router.pathname.includes('/notifications')) {\n            setBellActive(true)\n        } else {\n            setBellActive(false)\n        }\n\n        document.addEventListener(\"mousedown\", handleClick);\n\n        return () => {\n            document.removeEventListener(\"mousedown\", handleClick);\n        };\n    }, []);\n\n    const showOverlay = () => {\n        if (isOpen) {\n            return (\n                <div\n                    className=\"fixed bg-black left-0 right-0 bottom-0 top-0 opacity-20\"\n                    style={{ marginTop: '73px', zIndex: 99999999999999 }}\n                ></div>\n            )\n        } else {\n            return\n        }\n    }\n\n    const activeBellMob = () => {\n        setIsOpen(isOpen = !isOpen)\n        isOpen ? setBellMobActive(true) : setBellMobActive(false);\n    }\n\n    const renderNotifications = notifications.map((notification, index) => {\n        if (index < 3) {\n            return (\n                <React.Fragment key={notification.id}>\n                    <div className=\"flex w-full px-6\">\n                        <div className=\"w-full flex flex-wrap items-center\">\n                            <div className=\"w-3/4 text-left\">\n                                <h1 className=\"text-titles\">{notification.title}</h1>\n                            </div>\n                            <div className=\"w-1/4 text-right\">\n                                <button className=\"bg-transparent outline-none focus:outline-none text-primary text-sm\">\n                                    View\n                                </button>\n                            </div>\n                            <div className=\"w-full\">\n                                <p className=\"font-sans text-secondary text-xs my-4 text-left\">{notification.text}</p>\n                            </div>\n                            <div className=\"w-full flex items-center\">\n                                <div className=\"w-1/2 flex items-center\">\n                                    <img src=\"/img/notifications/clock-icon.svg\" alt=\"\" className=\"mr-2\" />\n                                    <p className=\"text-secondary text-xs\">{notification.deliveredTime}</p>\n                                </div>\n                                <div className=\"w-1/2 text-right\">\n                                    <button className=\"bg-transparent outline-none focus:outline-none text-xs text-secondary\">Mark as Read</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"h-px w-full my-6\" style={{ background: '#efefef' }}></div>\n                </React.Fragment>\n            )\n        }\n    })\n\n    return (\n        <>\n            {showOverlay()}\n            <div className=\"relative\" ref={node}>\n                <div className=\"flex items-center\">\n                    <button\n                        className={cn(\n                            \"outline-none focus:outline-none mt-2 z-50\",\n                            {\n                                \"active-notification pb-5\": bellActive || bellMobActive,\n                            }\n                        )}\n                        onClick={() => activeBellMob()}\n                    >\n                        <img src=\"/img/icons/bell-icon.svg\" alt=\"\" />\n                    </button>\n                    <span className=\"text-secondary mx-4 truncate text-sm mt-2 mr-0 z-40\">\n                        {firstName + ' ' + lastName.charAt(0)}.\n                    </span>\n                </div>\n                <div className={cn(\n                    \"lg:absolute fixed bg-white border-t border-secondary-elements lg:-left-96 left-0 lg:top-14 top-17 flex flex-wrap rounded-b-2xl lg:w-notifications-dropdown w-full lg:-mt-1 lg:overflow-y-hidden overflow-y-scroll lg:h-auto h-full\",\n                    {\n                        \"hidden\": isOpen === false,\n                        \"block\": isOpen === true\n                    }\n                )} style={{ zIndex: 99999999999999 }}>\n                    <div className=\"flex w-full items-center pt-6 px-6\">\n                        <div className=\"w-1/2 text-left\">\n                            <h1 className=\"text-titles text-1xl\">Notifications</h1>\n                        </div>\n                        <div className=\"w-1/2 text-right\">\n                            <button className=\"text-secondary text-xs bg-transparent outline-none focus:outline-none\">Mark All as Read</button>\n                        </div>\n                    </div>\n                    <div className=\"h-px w-full my-6\" style={{ background: '#efefef' }}></div>\n                    {renderNotifications}\n                    {\n                        router.pathname !== '/notifications'\n                            ? <div className=\"w-full mb-4 -mt-2 text-center lg:pb-0 md:pb-10 pb-16\">\n                                <Link href=\"/notifications\">\n                                    <button className=\"bg-transparent outline-none focus:outline-none text-primary text-sm\">\n                                        See all Notifications\n                                        </button>\n                                </Link>\n                            </div>\n                            : <div className=\"h-10 w-full\"></div>\n                    }\n                </div>\n            </div>\n        </>\n    )\n}\n\nconst mapStateToProps = (state: CPFromRedux) => ({\n    notifications: state.main.notifications,\n    firstName: state.main.profileInfo.firstName,\n    lastName: state.main.profileInfo.lastName\n})\n\nexport default connect(mapStateToProps)(NotificationDropdown);"]},"metadata":{},"sourceType":"module"}